# Multilevel model

(aka hierarchical linear models, nested data models, mixed models, etc.)

Statistical models of parameters that vary at more than one level. An example could be a model of student performance that contains measures for individual students as well as measures for classrooms within which the students are grouped.  
These models can be seen as generalizations of linear models, although they can also extend to non-linear models.

## Level 1 regression equation

``` math
Yij = B0j + B1jXij + eij
```

* Yij refers to the score on the dependent variable for an individual observation at Level 1 (subscript i refers to individual case, subscript j refers to the group)  
* Xij refers to the Level 1 predictor  
* B0j refers to the intercept of the dependent variable in group j (Level 2)  
* B1j refers to the slope for the relationship in group j (Level 2) between the Level 1 predictor and the dependent variable  
* eij refers to the random errors of prediction for the Level 1 equation (it is sometimes referred to as rij)

At Level 1 both the intercepts and slopes in the groups can be either fixed (meaning that all groups have the same values, althoug in the real world this ould be a rare occurrence), non-randomly varying (meaning that the intercepts and/or slopes are predictable from an independent variable at Level 2), or randomly varying (meaning that the intercepts and/or slopes are different in the different groups, and that each have their own overall mean and variance). When there are multiple level 1 independent variables, the model can be expanded by substituting vectors and matrices in the equation.

## Types of the models

Before conducting a multilevel model analysis, a researcher must decide on several aspects, including which predictors are to be included in the analysis. Second, the researcher must decide whether parameters values (i.e. the elements that will be estimated) will be fixed or random. Fixed parameters are composed of a constant over all the groups, whereas a random parameter has a different value for each of the groups. Additionally the researcher must decided whether to employ a maximum likelihood estimation or a restricted maximum likelihood estimation type.

## Applications:

The concept of level is the keystone of this approach. In an educational research example, the levels for a 2-level model might be:
1. pupil  
2. class  

However, if one were studying multiple schools and multiple school districts, a 4-level model could be:
1. pupil  
2. class  
3. school  
4. district  

The researcher must establish for each variable the level at which it was measured. In this example, "test score" might be measured at pupil level, "teacher experience" at class level, "school funding" at school level, and "urban" at district level.

## Example

Consider a basic linear regression model that predicts income as a function of age, class, gender and race. It might then be observed that income levels also vary depending on the city and state of residence.  
A simple solution would be to add an independent categorical variable to account for the locaton. The mean income would shift up or down but it would assume that the effect of race and gender on income is the same everywhere.  
A multilevel model would allow for different regression coefficient for each predictor in each location. Essentially, it would assume that people in a given location have correlated incomes generated by a single set of regression coefficients, whereas people in another location have incomes generated by a different set of coefficients.  

Multilevel models are a subclass of hierarchical Bayesian models, which are generated with multiple levels of random variables and arbitrary relatioships among the different variables.

Source:
  * Wikipedia
